\documentclass[11pt,twoside]{article}

\usepackage{cours0}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{eurosym}

\geometry{hmargin=3cm, vmargin=2.5cm}


%\newcommand{\myauthor}{Laetitia { \sc Chapel}}
%\newcommand{\myemail}{laetitia.chapel@univ-ubs.fr}
%%\newcommand{\documentadress}{http://www.math.jussieu.fr/$\sim$gabriel}
%\newcommand{\mydate}{8 février 2013}
%\newcommand{\myinstitution}{STID 2}
%\newcommand{\Titre}{ \Large\textbf{Scoring} }

\newcommand{\cbox}[1]{\parbox[t]{1.6cm}{\centering #1}}
\newcommand{\vect}[1]{\boldsymbol{#1}}	
\newcommand{\myyear}{2020}
\newcommand{\myschoolyear}{2019--2020}
\newcommand{\mydate}{Janvier 2020}
\newcommand{\mymodule}{Régression logistique}
\newcommand{\myinstitution}{DUT STID}
\newcommand{\Titre}{TD4 -- Construction de modèle}


\begin{document}
\thispagestyle{plain}
\mytitle{\Titre}

\newcounter{exo_counter}




%
%\noindent Remarques : \\
%
%\begin{itemize}
	%\item [$\bullet$] La qualité de la rédaction et des graphiques, les explications fournies et la précision du vocabulaire utilisé sont importantes. 
	%\item [$\bullet$] Si vous introduisez des notations, vous devez les définir.
%\end{itemize}

\par 
\bigskip
\noindent\textbf{Partie 5 -- Construction du modèle}

\par 
\bigskip
\begin{enumerate}
\item Construire un modèle qui contient l'ensemble des variables explicatives disponibles
		\begin{verbatim}
		surv.all <- glm(survived ~ pclass + sex + age + sibsp + parch + embarked, 
		                family = binomial, data = df)
		\end{verbatim}
		\item Le modèle est-il globalement significatif ?
		\item Quelles sont les variables indivduellement significatives ?
		\item On met en place une procédure de sélection basée sur un critère de maximisation de l'AIC, avec une sélection 
		\begin{enumerate}
		\item backward : donner le modèle
				\begin{verbatim}
		surv.back <- step(surv.all, direction = 'backward')
formula(surv.back)
		\end{verbatim}
		\item forward : donner le modèle
				\begin{verbatim}
		surv.forw <- step(surv.null, scope = list(lower=surv.null, upper=surv.all), 
		                  direction = 'forward')
		\end{verbatim}
		\item et stepwise : donner le modèle
				\begin{verbatim}
		surv.step <- step(surv.null, scope = list(lower=surv.null, upper=surv.all), 
		                  direction = 'both')
		\end{verbatim}
		\end{enumerate}
		\end{enumerate}	

%\par 
%\bigskip
%\noindent\textbf{Partie 3 -- Prédiction de la souscription d'un abonnement en fonction d'une seule variable : évaluation de la classification}
%\par 
%\bigskip
%\begin{enumerate}
	%\item \textbf{Modélisation de la souscription en fonction des revenus}
	%\begin{enumerate}
			%\item Le modèle est-il  significatif ? Répondre à la question en utilisant le test du rapport de vraisemblance (significativité globale du modèle).
			%\item Quelles sont les valeurs du $R^2$ et pseudo-$R^2$associées au modèle ? Commenter.
			%\item Quelles sont les valeurs de concordance du modèle ? Commenter.
			%\item Donner la matrice de confusion associée au modèle, en choisissant un seuil $s = 0.5$. Calculer le taux d'erreur, le taux de succès, la sensibilité, le taux de faux positifs et la spécificité. Commenter. Le taux d'erreur obtenu est-il un bon taux d'erreur ?
			%\item Qu'est ce qui change si au lieu de modéliser la souscription d'un abonnement, on choisit de modéliser la non souscription d'un abonnement ?
	%\end{enumerate}
	%\item \textbf{Modélisation de la souscription en fonction du sexe - modalité de référence \texttt{gender}='male'}
	%\begin{enumerate}
			%\item Le modèle est-il  significatif ? répondre à la question en utilisant le test du rapport de vraisemblance (significativité globale du modèle).
			%\item Quelles sont les valeurs du $R^2$ et pseudo-$R^2$associées au modèle ? Commenter.
			%\item Quelles sont les valeurs de concordance du modèle ? Commenter.
			%\item Donner la matrice de confusion associée au modèle, en choisissant un seuil $s = 0.5$. Calculer le taux d'erreur, le taux de succès, la sensibilité, le taux de faux positifs et la spécificité. Commenter. Le taux d'erreur obtenu est-il un bon taux d'erreur ? 
			%\item Expliquer les résultats en regardant les probabilités estimées.
	%\end{enumerate}
	%\item \textbf{Modélisation de la souscription en fonction du travail - modalité de référence \texttt{employ}=0}
	%\begin{enumerate}
			%\item Le modèle est-il  significatif ? répondre à la question en utilisant le test du rapport de vraisemblance (significativité globale du modèle).
			%\item Quelles sont les valeurs du $R^2$ et pseudo-$R^2$associées au modèle ? Commenter.
			%\item Quelles sont les valeurs de concordance du modèle ? Commenter.
			%\item Donner la matrice de confusion associée au modèle. Commenter.
	%\end{enumerate}
%\end{enumerate}
%\par 
%\bigskip
%\noindent\textbf{Partie 4 -- Prédiction de la souscription d'un abonnement en fonction de toutes les variables et sélection du meilleur modèle}
	%
%\begin{enumerate}
	%\item Écrire le modèle contenant toutes les variables disponibles. Le modèle est-il globalement significatif ? Selon le test de Wald, quelles sont les variables significatives à entrer dans le modèle ?
	%\item Sélectionner le meilleur modèle en utilisant les procédures stepwise, forward et backward. Donnent-elles tous le même modèle ? Si non, quel modèle choisir ?
%\end{enumerate}
	
%	
%\item Pour chaque variable qualitative, indiquer quel est la modalité de référence :
%
%
%
%\underline{REMARQUE} concernant la variable \texttt{classeAge} : il n'est pas possible d'introduire une variable qualitative à $n>2$ modalités dans une régression logistique. On doit recoder ce type de variable en $n-1$ variables binaires, la variable manquante étant la variable de référence. Dans le cas de la variable \texttt{classeAge} qui comporte 3 modalités, si on choisit la classe d'age 2 pour référence, le logiciel R créée automatiquement 2 variables binaires (on n'a pas besoin de créer ces variables explicitement) :
%\begin{itemize}
%	\item la variable \texttt{classeAge1}, dont la valeur est égale à 1 lorsque \texttt{classeAge=1}, et 0 sinon ;
%	\item la variable \texttt{classeAge3}, dont la valeur est égale à 1 lorsque \texttt{classeAge=3}, et 0 sinon.
%\end{itemize}
%Ainsi, si \texttt{classeAge=2} (soit la modalité de référence), on a \texttt{classeAge1 = 0} et \texttt{classeAge3 = 0}.
%\par
%\bigskip
%
%
%	\item Donner les estimations ponctuelles des coefficients. Quelles sont les variables significatives (à 5\%) ? Quel est le nom du test qui permet de répondre à cette question ?
%	\item Le modèle est-il globalement significatif ? Justifier la réponse.
%	\item Donner et interpréter les OR liés :
%	\begin{itemize}
%		\item aux différentes classes d'âge
%		\item au sexe
%		\item aux nombre d'assurances
%		\item aux montants d'assurance (en milliers d'euros et non pas en euros)
%	\end{itemize}
%	\item Comment obtenir les estimations $\hat{\pi}(x)$ à partir du modèle ? Donner la valeur $\hat{\pi}(x)$ pour l'individu ayant les caractéristiques suivantes : \\
%	classeAge = 1, sexe = 1, revenus = 1 (soit 1 millier d'\euro), nbAssur = 6, monttAssur = 1500.
%	\item Pour ce même individu, en déduire $\hat{y}$, en choisissant un seuil $s = 0.5$. Justifier.
%	\item On choisit un seuil $s=0.5$.
%	\begin{enumerate}
%		\item Quel est le taux d'erreur \textbf{non biaisé} du modèle ?
%		\item Quel est le taux de succès \textbf{non biaisé} du modèle ?
%		\item Quel est le taux de vrais positifs \textbf{non biaisé} du modèle ?
%		\item Quel est le taux de faux positifs \textbf{non biaisé} du modèle ?
%		\item Si on raisonne avec le taux d'erreur non biaisé du modèle, est ce un modèle intéressant ? Justifier.
%	\end{enumerate}
%	\item Si on regarde la courbe ROC du modèle, est ce un modèle intéressant ? Justifier.
%	\item Si on regarde l'aire sous la courbe ROC du modèle, est ce un modèle intéressant ? Justifier.
%	\item \textbf{Ciblage} : la compagnie souhaite envoyer une communication ciblée à certains de ses clients parmi les 4000 clients restants de la base de données.
%	\begin{enumerate}
%		\item Combien de polices d'assurance peut elle espérer vendre si elle envoie un courrier à l'ensemble des 4000 clients de sa base de données ?
%		\item Combien de polices d'assurance peut elle espérer vendre si elle envoie 800 courriers au hasard ?
%		\item Combien de polices d'assurance peut elle espérer vendre si elle sélectionne les 800 personnes les plus appétentes selon le modèle ? D'ailleurs, comment peut-elle sélectionner ces 800 personnes ?
%		\item Combien de polices d'assurance peut elle espérer vendre si elle avait réalisé un ciblage parfait ?
%	\end{enumerate}
%\end{enumerate}
\end{document}